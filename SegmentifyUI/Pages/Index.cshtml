@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

@section Styles
{
    <link href="~/lib/Toastr/toastr.min.css" rel="stylesheet" />

    <style>
        @@import url('https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700,800,900|Rubik:300,400,500,700,900');

        * {
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -webkit-text-shadow: rgba(0, 0, 0, .01) 0 0 1px;
            text-shadow: rgba(0, 0, 0, .01) 0 0 1px
        }

        body {
            font-family: 'Rubik', sans-serif;
            font-size: 14px;
            font-weight: 400;
            background: #eff6fa;
            color: #000000
        }

        div {
            display: block;
            position: relative;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box
        }

        ul {
            list-style: none;
            margin-bottom: 0px
        }

        p {
            font-family: 'Rubik', sans-serif;
            font-size: 14px;
            line-height: 1.7;
            font-weight: 400;
            color: #828282;
            -webkit-font-smoothing: antialiased;
            -webkit-text-shadow: rgba(0, 0, 0, .01) 0 0 1px;
            text-shadow: rgba(0, 0, 0, .01) 0 0 1px
        }

            p a {
                display: inline;
                position: relative;
                color: inherit;
                border-bottom: solid 1px #ffa07f;
                -webkit-transition: all 200ms ease;
                -moz-transition: all 200ms ease;
                -ms-transition: all 200ms ease;
                -o-transition: all 200ms ease;
                transition: all 200ms ease
            }

        a,
        a:hover,
        a:visited,
        a:active,
        a:link {
            text-decoration: none;
            -webkit-font-smoothing: antialiased;
            -webkit-text-shadow: rgba(0, 0, 0, .01) 0 0 1px;
            text-shadow: rgba(0, 0, 0, .01) 0 0 1px
        }

        p a:active {
            position: relative;
            color: #FF6347
        }

        p a:hover {
            color: #FFFFFF;
            background: #ffa07f
        }

            p a:hover::after {
                opacity: 0.2
            }

        ::selection {
        }

        p::selection {
        }

        h1 {
            font-size: 48px
        }

        h2 {
            font-size: 36px
        }

        h3 {
            font-size: 24px
        }

        h4 {
            font-size: 18px
        }

        h5 {
            font-size: 14px
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Rubik', sans-serif;
            font-weight: 500;
            -webkit-font-smoothing: antialiased;
            -webkit-text-shadow: rgba(0, 0, 0, .01) 0 0 1px;
            text-shadow: rgba(0, 0, 0, .01) 0 0 1px
        }

            h1::selection,
            h2::selection,
            h3::selection,
            h4::selection,
            h5::selection,
            h6::selection {
            }

        .form-control {
            color: #db5246
        }

        section {
            display: block;
            position: relative;
            box-sizing: border-box
        }

        .clear {
            clear: both
        }

        .clearfix::before,
        .clearfix::after {
            content: "";
            display: table
        }

        .clearfix::after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .float_left {
            float: left
        }

        .float_right {
            float: right
        }

        .trans_200 {
            -webkit-transition: all 200ms ease;
            -moz-transition: all 200ms ease;
            -ms-transition: all 200ms ease;
            -o-transition: all 200ms ease;
            transition: all 200ms ease
        }

        .trans_300 {
            -webkit-transition: all 300ms ease;
            -moz-transition: all 300ms ease;
            -ms-transition: all 300ms ease;
            -o-transition: all 300ms ease;
            transition: all 300ms ease
        }

        .trans_400 {
            -webkit-transition: all 400ms ease;
            -moz-transition: all 400ms ease;
            -ms-transition: all 400ms ease;
            -o-transition: all 400ms ease;
            transition: all 400ms ease
        }

        .trans_500 {
            -webkit-transition: all 500ms ease;
            -moz-transition: all 500ms ease;
            -ms-transition: all 500ms ease;
            -o-transition: all 500ms ease;
            transition: all 500ms ease
        }

        .fill_height {
            height: 100%
        }

        .super_container {
            width: 100%;
            overflow: hidden
        }

        .prlx_parent {
            overflow: hidden
        }

        .prlx {
            height: 130% !important
        }

        .nopadding {
            padding: 0px !important
        }

        .button {
            display: inline-block;
            background: #0e8ce4;
            border-radius: 5px;
            height: 48px;
            -webkit-transition: all 200ms ease;
            -moz-transition: all 200ms ease;
            -ms-transition: all 200ms ease;
            -o-transition: all 200ms ease;
            transition: all 200ms ease
        }

            .button a {
                display: block;
                font-size: 18px;
                font-weight: 400;
                line-height: 48px;
                color: #FFFFFF;
                padding-left: 35px;
                padding-right: 35px
            }

            .button:hover {
                opacity: 0.8
            }

        .viewed {
            padding-top: 51px;
            padding-bottom: 60px;
            background: #eff6fa
        }

        .bbb_viewed_title_container {
            border-bottom: solid 1px #dadada
        }

        .bbb_viewed_title {
            margin-bottom: 14px
        }

        .bbb_viewed_nav_container {
            position: absolute;
            right: -5px;
            bottom: 14px
        }

        .bbb_viewed_nav {
            display: inline-block;
            cursor: pointer
        }

            .bbb_viewed_nav i {
                color: #dadada;
                font-size: 18px;
                padding: 5px;
                -webkit-transition: all 200ms ease;
                -moz-transition: all 200ms ease;
                -ms-transition: all 200ms ease;
                -o-transition: all 200ms ease;
                transition: all 200ms ease
            }

            .bbb_viewed_nav:hover i {
                color: #606264
            }

        .bbb_viewed_prev {
            margin-right: 15px
        }

        .bbb_viewed_slider_container {
            padding-top: 50px
        }

        .bbb_viewed_item {
            width: 100%;
            background: #FFFFFF;
            border-radius: 2px;
            padding-top: 25px;
            padding-bottom: 25px;
            padding-left: 30px;
            padding-right: 30px
        }

        .bbb_viewed_image {
            width: 115px;
            height: 115px
        }

            .bbb_viewed_image img {
                display: block;
                max-width: 100%
            }

        .bbb_viewed_content {
            width: 100%;
            margin-top: 25px
        }

        .bbb_viewed_price {
            font-size: 16px;
            color: #000000;
            font-weight: 500
        }

        .bbb_viewed_item.discount .bbb_viewed_price {
            color: #df3b3b
        }

        .bbb_viewed_price span {
            position: relative;
            font-size: 12px;
            font-weight: 400;
            color: rgba(0, 0, 0, 0.6);
            margin-left: 8px
        }

            .bbb_viewed_price span::after {
                display: block;
                position: absolute;
                top: 6px;
                left: -2px;
                width: calc(100% + 4px);
                height: 1px;
                background: #8d8d8d;
                content: ''
            }

        .bbb_viewed_name {
            margin-top: 3px
        }

            .bbb_viewed_name a {
                font-size: 14px;
                color: #000000;
                -webkit-transition: all 200ms ease;
                -moz-transition: all 200ms ease;
                -ms-transition: all 200ms ease;
                -o-transition: all 200ms ease;
                transition: all 200ms ease
            }

                .bbb_viewed_name a:hover {
                    color: #0e8ce4
                }

        .item_marks {
            position: absolute;
            top: 18px;
            left: 18px
        }

        .item_mark {
            display: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            color: #FFFFFF;
            font-size: 10px;
            font-weight: 500;
            line-height: 36px;
            text-align: center
        }

        .item_discount {
            background: #df3b3b;
            margin-right: 5px
        }

        .item_new {
            background: #0e8ce4
        }

        .bbb_viewed_item.discount .item_discount {
            display: inline-block
        }

        .bbb_viewed_item.is_new .item_new {
            display: inline-block
        }
    </style>

    <style>
        /*SweetAlert2 için */
        #custom-target {
            position: relative;
            width: 600px;
            height: 300px;
            border-style: solid;
        }

        .position-absolute {
            position: absolute;
        }
    </style>
    


    <link rel="stylesheet" href="/lib/sweetalert2/sweetalert2.min.css">
}

<div class="container mt-5">
    <div class="row">
        <div class="col-md-4 mt-5">
            <div class="sidebar">
                <ul id="categoryUl" class="list-group list-group-flush">
                </ul>

            </div>
        </div>
        <div class="col-md-8">
            <div class="col-12 col-sm-8 col-md-6 col-lg-4" id="productsDiv">

            </div>
        </div>
    </div>

</div>





@section Scripts
{

    <script src="/lib/sweetalert2/sweetalert2.min.js"></script>
    <script src="~/lib/Toastr/Toastrnot.js"></script>

    <script>
        //Kategori menüsünü yükleme işlemi
        $.getJSON("/Data/product-list.json", function (data) {
            var userCategories = data.responses[0][0].params.userCategories;
            var categoryUl = document.getElementById("categoryUl");
            userCategories.forEach((x, i) => {
                var liElement = document.createElement('li');
                liElement.id = x;
                liElement.className = "categoryLi list-group";


                var aElement = document.createElement('a');
                aElement.href = "#";
                aElement.innerText = x;
                aElement.className = "categoryLink list-group-item-action";

                liElement.appendChild(aElement);

                categoryUl.appendChild(liElement);
                //categoryUl.appendChild("<li id='" + x + "'><a href='#' data-target="+x+">" + x + "</a></li>");
            });

            $(".categoryLi").click(function () {
                getCategoryProducts(this.id);
            });
        });




        function getCategoryProducts(categoryName) {
            $.getJSON("/Data/product-list.json", function (data) {
                var productContainer = document.getElementById("productsDiv");
                productContainer.innerHTML = "";
                var products = data.responses[0][0].params.recommendedProducts[categoryName];

                products.forEach((x, i) => {
                    //1
                    var cardDiv = document.createElement("div");
                    cardDiv.className = "card";

                    //2
                    var productImg = document.createElement("img");
                    productImg.className = "card-img";
                    productImg.src = x.image;
                    cardDiv.appendChild(productImg);

                    //2.5
                    var cardBodyDiv = document.createElement("div");
                    cardBodyDiv.className = "card-body";
                    cardDiv.appendChild(cardBodyDiv);

                    //3
                    var productName = document.createElement("h4");
                    productName.className = "card-title";
                    productName.innerText = x.name;
                    cardBodyDiv.appendChild(productName);

                    //4
                    var priceDiv = document.createElement("div");
                    priceDiv.className = "price text-success";
                    cardBodyDiv.appendChild(priceDiv);
                    //5
                    var price = document.createElement("h3");
                    price.className = "mt-4 bg-secondary text-dark";
                    price.innerText = x.priceText;
                    priceDiv.appendChild(price);

                    //6
                    var addToCartBtn = document.createElement("a");
                    addToCartBtn.classList = "btn btn-primary mt-3 addToCart";
                    addToCartBtn.href = "#";
                    addToCartBtn.innerHTML = "<i class='fas fa-shopping-cart'></i>Sepete Ekle";
                    cardBodyDiv.appendChild(addToCartBtn);
                    productContainer.append(cardDiv);
                })

                $('.addToCart').click(function () {

                    toastr.optionsOverride = 'positionclass = "toast-bottom-full-width"';
                    toastr.options.positionClass = 'toast-bottom-right';
                    //show when the button is clicked
                    toastr.success('Sepete Git', 'Ürün Sepete Eklendi', 'positionclass = "toast-right-full-width"');
                });
            })

            
        }

    </script>
   
}